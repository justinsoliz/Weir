<!doctype html>
<html ng-app="Weir">
<head>
  <title>Weir</title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="/css/rss.css">
  <style>[ng-cloak], .ng-cloak { display: none; }</style>
</head>
<body ng-cloak>
  <div class="root-container" ng-controller="StreamController">
    
    <ul class="menu">
      <li class="header">Weir
      <li> Last update: {{stream.updatedAt.toLocaleTimeString()}}
      <li> Remaining: {{stream.unread}} / {{stream.total}}
      <li> <a href="javascript:;" ng-click="markRefresh()">Mark as Read</a>

      <li class="alert message" ng-show="message"> {{message}}
      <li class="alert warning" ng-show="warning"> {{warning}}
      <li class="alert error" ng-show="error"> {{error}}
    </ul>
    
    <div class="stream-container">
      <ul class="stream">
        <li ng-repeat="item in stream.items" id="{{item.id}}">
          <div class="header" ng-click="activate(item)">
            <cite>{{item.feed}}</cite>
            <a href="{{item.url}}" prevent-default>
              <h2>{{item.title}}</h2>
            </a>
            <!-- tags go here -->
          </div>
          <div class="content" ng-show="item.active">
            <h3>Posted by {{item.author}} at {{item.published}}</h3>
            <div class="text" ng-bind-html-unsafe="item.content"></div>
            <a class="view-full" href="{{item.url}}" target="_blank">View full post</a>
          </div>
        </li>
      </ul>
    </div>

    <div class="charm-panel">
      <a class="charm" href="javascript:;" ng-click="next()">&#x21E3;</a>
      <a class="charm" href="javascript:;" ng-click="refresh()">&#x21BA;</a>
      <a class="charm" href="javascript:;" ng-click="menu()">&#x205D;</a>
    </div>
  </div>

  <script src="/js/angular.min.js"></script>
  <script src="/js/weir.js"></script>
</body>
</html>
